<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://unpkg.com/izitoast/dist/css/iziToast.min.css">
    <title>{% block titulo %}Sistema{% endblock %}</title>
</head>
<body class="d-flex vh-100">
    <!-- Menú lateral -->
    <div class="d-flex flex-column justify-content-between" style="width: 250px; background-color: rgb(41, 73, 47); color: white;">
        <div>
            <!-- Bienvenida -->
            <div class="text-center py-3 border-bottom border-secondary">
                <h4>Bienvenido</h4>
                
            </div>
            <!-- Opciones del menú -->
            <ul class="nav flex-column px-3">
                <li class="nav-item my-2">
                    <a class="nav-link text-white btn btn-outline-light w-100 text-start" href="/campistas/">Campistas</a>
                </li>
                <li class="nav-item my-2">
                    <a class="nav-link text-white btn btn-outline-light w-100 text-start" href="/reservas/">Reservas</a>
                </li>
            </ul>
        </div>
        <!-- Resumen -->
        <div class="p-3">
            <h6 class="border-bottom border-secondary pb-2">Resumen</h6>
            <ul class="list-unstyled small">
                <li>Total Campistas: <strong>{{ total_campistas }}</strong></li>
                <li>Total Reservas: <strong>{{ total_reservas }}</strong></li>
            </ul>
            <a href="/cerrar_sesion/" class="btn btn-danger w-100">Cerrar Sesión</a>
        </div>
    </div>

    <!-- Contenido principal -->
    <div class="flex-grow-1 overflow-auto">
        <div class="container p-5">
            {% block contenido %}{% endblock %}
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.5/dist/jquery.validate.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/izitoast/dist/js/iziToast.min.js"></script>
    
    <!-- Bloque de alertas reutilizables -->
    {% if messages %}
        <script>
            {% for mensaje in messages %}
                iziToast.{{ mensaje.tags }}({
                    message: '{{ mensaje }}',
                    position: 'topRight'
                });
            {% endfor %}
        </script>
    {% endif %}

    {% block extra_js %}{% endblock %}
</body>
</html>
